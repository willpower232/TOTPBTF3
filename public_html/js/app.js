!function(e,t,o){var n,s,i,r=function(e,t){return(t||o).querySelector(e)||null};if(o.documentElement.scrollHeight>o.documentElement.clientHeight&&r("body").classList.add("scrollup"),e.onscroll=function(){this.oldScroll>this.scrollY?r("body").classList.add("scrollup"):r("body").classList.remove("scrollup"),this.oldScroll=this.scrollY},void 0!==e.refreshat)var c=r(".a-timer"),a=setInterval(function(){var o,n=Math.floor((30-(e.refreshat-Math.floor(Date.now()/1e3)))/30*100);n>100?(c.style.opacity=0,clearInterval(a),t.onLine?e.location.reload():((o=r(".a-code"))&&(o.innerText="offline please wait",o.style.letterSpacing=".1em"),e.addEventListener("online",function(){e.location.reload()}))):c&&(c.style.setProperty("--progress",n),c.style.opacity=1)},1e3);(n=r('input[name="light_mode"]'))&&"fetch"in e&&(n.removeAttribute("disabled"),n.addEventListener("change",function(e){var t=new FormData;t.append("light_mode",n.checked),fetch("/api/profile/setLightMode",{method:"POST",body:t,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":r('meta[name="csrf-token"]').getAttribute("content")},credentials:"same-origin"}).then(function(e){if(e.ok)return e.json();alert("System error: received "+e.status+" "+e.statusText),n.checked=!n.checked}).catch(function(e){alert("System error: "+e),n.checked=!n.checked}).then(function(e){!0===e.current_state?o.body.parentNode.classList.add("inverted"):!1===e.current_state&&o.body.parentNode.classList.remove("inverted")})})),"clipboard"in t&&(s=r(".js-copy"))&&(s.classList.add("enabled"),s.addEventListener("click",function(e){var o=r(e.target.dataset.copies).innerText;t.clipboard.writeText(o).then(function(){s.classList.add("success")}).catch(function(e){s.classList.add("failure"),console.log(e)}).finally(function(){setTimeout(function(){s.classList.remove("success","failure")},800)})})),(i=r(".breadcrumbs"))&&e.addEventListener("resize",function e(){var t=i.firstElementChild,o=i.lastElementChild,n=i.offsetWidth;return o.offsetLeft+o.offsetWidth>n?i.classList.add("overflowed"):t.offsetLeft>0&&i.classList.remove("overflowed"),e}())}(window,navigator,document);
